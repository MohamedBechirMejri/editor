(()=>{"use strict";const e=(e,t)=>{1===t.length&&t[0].innerText<1&&e.preventDefault()},t=e=>{const t=document.querySelector(".block-picker");"open"===e?t.classList.add("open"):t.classList.remove("open")},n=()=>{const e=document.querySelector(".block-picker"),{x:t,y:n}=(()=>{const e=document.getSelection().getRangeAt(0);let t,n;const o=e.startContainer,c=e.startOffset;if(c>0)return n=document.createRange(),n.setStart(o,c-1),n.setEnd(o,c),t=n.getBoundingClientRect(),{x:t.right,y:t.top};if(c<o.length)return n=document.createRange(),n.setStart(o,c),n.setEnd(o,c+1),t=n.getBoundingClientRect(),{x:t.left,y:t.top};t=o.getBoundingClientRect();const l=getComputedStyle(o),r=(parseInt(l.lineHeight)-parseInt(l.fontSize))/2;return{x:t.left,y:t.top+r}})();e.style.position="fixed",e.style.top=n+35+"px",e.style.left=t+10+"px"},o=document.querySelector(".textarea");var c;o.focus(),o.addEventListener("blur",(e=>e.target.focus())),((n,o)=>{const c=document.querySelector(".block-picker"),l=document.querySelectorAll(".block");n.addEventListener("keydown",(r=>{const{classList:s}=c,{children:d}=n;"/"===r.key&&t("open"),s.contains("open")&&1===r.key.length&&(o+=r.key)," "===r.key&&e(r,d),"Backspace"===r.key&&(e(r,d),s.contains("open")&&(o=o.slice(0,-1))),"Escape"===r.key&&(o="",r.preventDefault()),"Enter"===r.key&&(s.contains("open")&&((e=>{let t=!1;e.forEach((e=>{t||"none"===e.style.display||(e.click(),t=!0)}))})(l),r.preventDefault()),o=""),o||"/"===r.key||t("close"),((e,t)=>{const n=document.getElementById("filter"),o=t.slice(1,t.length);n.innerText=o||"None",e.forEach((e=>{e.innerText.toLowerCase().includes(o.toLowerCase())?e.style.display="flex":e.style.display="none"}))})(l,o)}))})(o,""),(()=>{const e=document.getElementById("h1-block"),n=document.getElementById("h2-block"),o=document.getElementById("h3-block"),c=e=>{window.getSelection().focusNode.parentElement.insertAdjacentHTML("afterend",e),t("close"),window.getSelection()?.modify("move","forward","line")};e.addEventListener("click",(()=>{c("<h1 data-placeholder='Heading 1'><br /></h1>")})),n.addEventListener("click",(()=>{c("<h2 data-placeholder='Heading 2'><br /></h2>")})),o.addEventListener("click",(()=>{c("<h3 data-placeholder='Heading 3'><br /></h3>")}))})(),(c=o).addEventListener("input",(()=>{n(),(e=>{const{children:t}=e;for(let e=0;e<t.length;e++)t[e].innerText<1?t[e].classList.remove("hide-placeholder"):t[e].classList.add("hide-placeholder")})(c)}))})();