(()=>{"use strict";const e=document.querySelector(".textarea");var t;(t=e).addEventListener("keydown",(e=>{"Backspace"!==e.key&&" "!==e.key||1===t.children.length&&t.children[0].innerText<1&&e.preventDefault()})),(e=>{e.addEventListener("input",(()=>{for(let t=0;t<e.children.length;t++)e.children[t].innerText<1?e.children[t].classList.remove("hide-placeholder"):e.children[t].classList.add("hide-placeholder")}))})(e),(e=>{e.addEventListener("input",(()=>{const e=document.querySelector(".block-picker"),{x:t,y:n}=(()=>{const e=document.getSelection().getRangeAt(0);let t,n;const r=e.startContainer,c=e.startOffset;if(c>0)return n=document.createRange(),n.setStart(r,c-1),n.setEnd(r,c),t=n.getBoundingClientRect(),{x:t.right,y:t.top};if(c<r.length)return n=document.createRange(),n.setStart(r,c),n.setEnd(r,c+1),t=n.getBoundingClientRect(),{x:t.left,y:t.top};t=r.getBoundingClientRect();const i=getComputedStyle(r),o=(parseInt(i.lineHeight)-parseInt(i.fontSize))/2;return{x:t.left,y:t.top+o}})();e.style.position="fixed",e.style.top=n+35+"px",e.style.left=t+10+"px"}))})(e),(e=>{e.addEventListener("keydown",(e=>{const t=document.querySelector(".block-picker");"/"===e.key&&t.classList.add("open"),"Escape"===e.key&&t.classList.remove("open")}))})(e)})();