(()=>{"use strict";const e=e=>{const t=document.querySelector(".block-picker");"open"===e?t.classList.add("open"):t.classList.remove("open")},t=document.querySelector(".textarea");var n;t.focus(),t&&t.addEventListener("blur",(e=>e.target.focus())),((t,n)=>{const c=document.querySelector(".block-picker"),o=document.querySelectorAll(".block");t.addEventListener("keydown",(t=>{if("/"===t.key&&e("open"),c.classList.contains("open")){switch(!0){case 1===t.key.length:n+=t.key;break;case"Backspace"===t.key:n=n.slice(0,-1);break;case"Enter"===t.key||"Escape"===t.key:"Enter"===t.key&&(e=>{let t=!1;e.forEach((e=>{t||"none"===e.style.display||(e.click(),t=!0)}))})(o),n="",t.preventDefault()}n||e("close"),((e,t)=>{const n=document.getElementById("filter"),c=t.slice(1,t.length);n.innerText=c||"None",e.forEach((e=>{e.innerText.toLowerCase().includes(c.toLowerCase())?e.style.display="flex":e.style.display="none"}))})(o,n)}}))})(t,""),(n=t).addEventListener("keydown",(e=>{"Backspace"!==e.key&&" "!==e.key||1===n.children.length&&n.children[0].innerText<1&&e.preventDefault()})),(e=>{e.addEventListener("input",(()=>{for(let t=0;t<e.children.length;t++)e.children[t].innerText<1?e.children[t].classList.remove("hide-placeholder"):e.children[t].classList.add("hide-placeholder")}))})(t),(e=>{e.addEventListener("input",(()=>{const e=document.querySelector(".block-picker"),{x:t,y:n}=(()=>{const e=document.getSelection().getRangeAt(0);let t,n;const c=e.startContainer,o=e.startOffset;if(o>0)return n=document.createRange(),n.setStart(c,o-1),n.setEnd(c,o),t=n.getBoundingClientRect(),{x:t.right,y:t.top};if(o<c.length)return n=document.createRange(),n.setStart(c,o),n.setEnd(c,o+1),t=n.getBoundingClientRect(),{x:t.left,y:t.top};t=c.getBoundingClientRect();const l=getComputedStyle(c),r=(parseInt(l.lineHeight)-parseInt(l.fontSize))/2;return{x:t.left,y:t.top+r}})();e.style.position="fixed",e.style.top=n+35+"px",e.style.left=t+10+"px"}))})(t),(()=>{const t=document.getElementById("h1-block"),n=document.getElementById("h2-block"),c=document.getElementById("h3-block"),o=t=>{window.getSelection().focusNode.parentElement.insertAdjacentHTML("afterend",t),e("close"),window.getSelection()?.modify("move","forward","line")};t.addEventListener("click",(()=>{o("<h1 data-placeholder='Heading 1'><br /></h1>")})),n.addEventListener("click",(()=>{o("<h2 data-placeholder='Heading 2'><br /></h2>")})),c.addEventListener("click",(()=>{o("<h3 data-placeholder='Heading 3'><br /></h3>")}))})()})();